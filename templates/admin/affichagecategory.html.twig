{% extends 'base.html.twig' %}

{% block title %} Liste des Catégories {% endblock %}

  
{% block body %}
    <h1> Listes des Catégories </h1>

    {% for message in app.flashes('category_add_success')%}
      <div class="alert alert-success alert-dismissible fade show" role="alert">
           {{ message }}
         <button type="button" class="close" data-dismiss="alert" aria-label="Close">
             <span aria-hidden="true">&times;</span>
         </button>
      </div>
   {% endfor %}

   {% for message in app.flashes('category_edit_success') %}
      <div class="alert alert-warning alert-dismissible fade show" role="alert">
         {{ message }}
       <button type="button" class="close" data-dismiss="alert" aria-label="Close">
       <span aria-hidden="true">&times;</span>
       </button>
      </div>
   {% endfor %}

   {% for message in app.flashes('category_delete_success') %}
      <div class="alert alert-warning alert-dismissible fade show" role="alert">
         {{ message }}
       <button type="button" class="close" data-dismiss="alert" aria-label="Close">
       <span aria-hidden="true">&times;</span>
       </button>
      </div>
   {% endfor %}

  <table class="table table-dark table-striped">
  <thead>
    <tr>
      <th scope="col">id</th>
      <th scope="col">Titre</th>
      <th scope="col">Description</th>
      <th scope="col" class="centrer">Action</th>
    </tr>
  </thead>
  
  <tbody>
      {% for category in categories %} 
    <tr>
      <th scope="row">{{ category.id }}</th>
        <td>{{ category.nom }}</td> 
        <td>{{ category.description }}</td>
        <td>
          <a href="{{ path('edit-category', {id : category.id}) }}" class="btn btn-warning">Modifier</a>
          <a href="{{ path('delete-category', {id : category.id}) }}" class="btn btn-danger">Supprimer</a>
        </td>
    </tr>
     {% endfor %} 
  </tbody>
  </table>
    
{% endblock %}